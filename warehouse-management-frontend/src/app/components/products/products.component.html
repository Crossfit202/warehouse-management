<div class="content">
  <h1>Products</h1>
  <div *ngIf="loading">Loading...</div>
  <button (click)="openAddModal()" class="btn btn-success mb-3">Add Product</button>
  <table *ngIf="!loading" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>SKU</th>
        <th>Item Name</th>
        <th>Description</th>
        <th>Actions</th> <!-- Add this -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.sku }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.description }}</td>
        <td>
          <button class="btn btn-primary btn-sm me-2" (click)="openEditModal(product)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="openDeleteModal(product)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Add Product Modal -->
  <div *ngIf="showAddModal" class="modal">
    <div class="modal-content">
      <h3>Add Product</h3>
      <label>SKU</label>
      <input [(ngModel)]="newProduct.sku" />
      <label>Item Name</label>
      <input [(ngModel)]="newProduct.name" />
      <label>Description</label>
      <input [(ngModel)]="newProduct.description" />
      <div class="modal-actions">
        <button (click)="addProduct()">Add</button>
        <button (click)="closeAddModal()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Edit Product Modal -->
  <div *ngIf="showEditModal" class="modal">
    <div class="modal-content">
      <h3>Edit Product</h3>
      <label>SKU</label>
      <input [(ngModel)]="editProduct.sku" />
      <label>Item Name</label>
      <input [(ngModel)]="editProduct.name" />
      <label>Description</label>
      <input [(ngModel)]="editProduct.description" />
      <div class="modal-actions">
        <button (click)="updateProduct()">Save</button>
        <button (click)="closeEditModal()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Delete Product Modal -->
  <div *ngIf="showDeleteModal" class="modal">
    <div class="modal-content">
      <h3>Delete Product</h3>
      <p>Are you sure you want to delete {{ deleteProduct?.name }}?</p>
      <div class="modal-actions">
        <button class="btn btn-danger" (click)="deleteProductConfirmed()">Delete</button>
        <button class="btn btn-secondary" (click)="closeDeleteModal()">Cancel</button>
      </div>
    </div>
  </div>
</div>